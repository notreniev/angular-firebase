<div class="container " *ngIf="true">

  <div class="row">
    <div class="col-md-4 col-md-offset-4">

      <h1>Login</h1>

      <form name="form" #f="ngForm">
        <div class="form-group">
          <input type="email" class="form-control" [(ngModel)]="user.email" #email="ngModel" id="email" name="email"
            maxlength="150" required email placeholder="E-mail">
        </div>

        <div *ngIf="email.invalid && (email.dirty && email.touched)" class="alert alert-danger">
          <div *ngIf="email.invalid">
            - Não é um e-mail válido!
          </div>

          <div *ngIf="email.errors.required">
            - Campo e-mail é obrigatório!
          </div>
          <div *ngIf="email.errors.maxlength">
            - E-Mail deve conter no máximo 150 caracteres.
          </div>
        </div>

        <div class="form-group">
          <input type="password" class="form-control" [(ngModel)]="user.password" id="password" name="password"
            #password="ngModel" required minlength="6" placeholder="Senha">
        </div>

        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert alert-danger">

          <div *ngIf="password.errors.required">
            - Campo senha é obrigatório!
          </div>
          <div *ngIf="password.errors.minlength">
            - E-Mail deve conter pelo menos 6 caracteres.
          </div>

        </div>

        <button type="submit" class="btn btn-success " (click)="login(user)">Entrar</button>

          <button type="button" class="btn btn-default " (click)="logout()" *ngIf="auth.user$ | async as user">Sair</button>
          <hr>
          <pre *ngIf="auth.user$ | async as user">
                {{ user | json }}
          </pre>



      </form>

    </div>
  </div>
</div>
